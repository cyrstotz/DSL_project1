Energy balance:

Zero equals the mass flow rate times the difference between the inlet enthalpy and the outlet enthalpy, plus the heat flow rate out, plus the work rate which is zero.

The heat flow rate out equals the mass flow rate times the difference between the outlet enthalpy and the inlet enthalpy, which equals the mass flow rate times the integral from the inlet temperature to the outlet temperature of the fluid specific heat capacity times dT, plus the fluid velocity times the difference in pressure from outlet to inlet which is zero.

This simplifies to the mass flow rate times the fluid specific heat capacity times the difference between the outlet temperature and the inlet temperature.