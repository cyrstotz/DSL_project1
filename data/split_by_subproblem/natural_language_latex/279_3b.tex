The rate of change of energy E12 is equal to the rate of change of energy E2.

The change in energy E12 in gas is equal to the change in energy E12 in water.

The mass of gas times the specific heat at constant volume times the difference in temperature from T1 to T2 is equal to the change in energy E12 in water, which is also equal to the mass of water times the difference in internal energy from u1 to u2.