From state 2 to state 3:  
Zero equals mass flow rate times (h2 minus h3) plus power.  
Mass flow rate times (h3 minus h2) equals power.  
Mass flow rate equals power divided by (h3 minus h2).  

At 8 bar:  
h3 equals hf plus (s2 minus sf) divided by (sfg) times (hfg minus hf).  

From state 3 to state 4:  
Zero equals mass flow rate times (h1 minus h2) plus heat flow rate.  
s2 equals s3.  

h2 equals h at G1 (interpolation from Table A-12).